{% extends "base.html" %}
{% block title %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è{% endblock %}

{% block content %}
    <div class="flex justify-center items-center min-h-screen bg-gray-100">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md">
            <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>

            {% if messages %}
                <div class="mb-4">
                    {% for message in messages %}
                        <div class="px-4 py-3 rounded-lg text-white shadow-lg
                        {% if message.tags == 'success' %} bg-green-500
                        {% elif message.tags == 'error' %} bg-red-500
                        {% elif message.tags == 'info' %} bg-blue-500
                        {% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}


            <form method="post" class="space-y-4">
                {% csrf_token %}

                <!-- –ü–æ–ª–µ –∑–∞ Email -->
                <div>
                    <label class="block text-gray-700 font-semibold mb-1">Email:</label>
                    <input type="email" name="email" required
                           class="w-full px-4 py-3 border border-gray-400 bg-gray-100 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500">
                </div>

                <!-- –ü–æ–ª–µ –∑–∞ –ü–∞—Ä–æ–ª–∞ —Å –∏–∫–æ–Ω–∞ -->
                <div class="relative">
                    <label class="block text-gray-700 font-semibold mb-1">–ü–∞—Ä–æ–ª–∞:</label>
                    <input type="password" name="password1" id="password1" required
                           class="w-full px-4 py-3 pr-12 border border-gray-400 bg-gray-100 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500">
                    <span class="absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer"
                          onclick="togglePassword('password1')">
                    üëÅ
                </span>
                </div>

                <!-- –ü–æ–ª–µ –∑–∞ –ü–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ –ü–∞—Ä–æ–ª–∞ —Å –∏–∫–æ–Ω–∞ -->
                <div class="relative">
                    <label class="block text-gray-700 font-semibold mb-1">–ü–æ—Ç–≤—ä—Ä–¥–µ—Ç–µ –ø–∞—Ä–æ–ª–∞—Ç–∞:</label>
                    <input type="password" name="password2" id="password2" required
                           class="w-full px-4 py-3 pr-12 border border-gray-400 bg-gray-100 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500">
                    <span class="absolute right-4 top-1/2 transform -translate-y-1/2 cursor-pointer"
                          onclick="togglePassword('password2')">
                    üëÅ
                </span>
                </div>

                <!-- –ü–æ–ª–µ –∑–∞ –†–æ–ª—è -->
                <div>
                    <label class="block text-gray-700 font-semibold mb-1">–†–æ–ª—è:</label>
                    <select name="role"
                            class="w-full px-4 py-3 border border-gray-400 bg-gray-100 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 appearance-none">
                        <option value="student">–£—á–µ–Ω–∏–∫</option>
                        <option value="teacher">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª</option>
                    </select>
                </div>

                <!-- –ë—É—Ç–æ–Ω –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
                <button type="submit"
                        class="w-full bg-gradient-to-r from-blue-500 to-blue-700 text-white py-3 px-4 rounded-lg hover:scale-105 transform transition duration-300 font-semibold shadow-md">
                    –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π —Å–µ
                </button>
            </form>

            <!-- –õ–∏–Ω–∫ –∑–∞ –≤—Ö–æ–¥ -->
            <p class="mt-4 text-center text-gray-700">
                –í–µ—á–µ –∏–º–∞—Ç–µ –∞–∫–∞—É–Ω—Ç? <a href="{% url 'login' %}" class="text-blue-600 hover:underline font-semibold">–í–ª–µ–∑—Ç–µ
                —Ç—É–∫</a>.
            </p>
        </div>
    </div>

    <!-- JavaScript –∑–∞ —Å–∫—Ä–∏–≤–∞–Ω–µ/–ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –ø–∞—Ä–æ–ª–∞—Ç–∞ -->
    <script>
        function togglePassword(inputId) {
            let inputField = document.getElementById(inputId);
            if (inputField.type === "password") {
                inputField.type = "text";
            } else {
                inputField.type = "password";
            }
        }
    </script>

{% endblock %}